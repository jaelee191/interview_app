class JobSeekerCompanyAnalyzerService
  def initialize(company_name)
    @company_name = company_name
    @api_key = ENV['OPENAI_API_KEY']
  end

  def perform_job_seeker_analysis
    # ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ìœ„í•œ Thread ì‚¬ìš©
    results = {}
    threads = []
    
    # 2ê°œì˜ APIë¥¼ ë™ì‹œì— í˜¸ì¶œ
    threads << Thread.new do
      results[:comprehensive] = generate_comprehensive_analysis
    end
    
    threads << Thread.new do
      results[:executive_summary] = generate_executive_summary
    end
    
    # ëª¨ë“  ìŠ¤ë ˆë“œê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°
    threads.each(&:join)
    
    # ê²°ê³¼ ì¡°í•©
    comprehensive_analysis = results[:comprehensive]
    
    {
      executive_summary: results[:executive_summary],
      company_overview: comprehensive_analysis[:company_overview],
      industry_market: comprehensive_analysis[:industry_market],
      hiring_strategy: comprehensive_analysis[:hiring_strategy],
      job_preparation: comprehensive_analysis[:job_preparation],
      competitor_comparison: comprehensive_analysis[:competitor_comparison],
      consultant_advice: comprehensive_analysis[:consultant_advice],
      metadata: {
        analysis_date: Time.current,
        analysis_version: '4.0',
        methodology: 'Job Seeker Focused Deep Analysis with GPT-4.1 (Parallel)',
        minimum_content_length: 3500,
        model_used: ENV['OPENAI_MODEL'] || 'gpt-4.1',
        parallel_processing: true
      }
    }
  end

  private

  def generate_comprehensive_analysis
    prompt = <<~PROMPT
      ê¸°ì—…ëª…: #{@company_name}
      í˜„ì¬ ë‚ ì§œ: #{Time.current.strftime('%Yë…„ %mì›”')}
      
      ë„ˆëŠ” [ê¸°ì—…ë¶„ì„ ì „ë¬¸ê°€ì´ì ì·¨ì—…ì»¨ì„¤í„´íŠ¸] ì—­í• ì„ ë§¡ëŠ”ë‹¤.  
      ë„ˆì˜ ì„ë¬´ëŠ” #{@company_name}ì„ ë¶„ì„í•˜ì—¬ ì·¨ì—… ì¤€ë¹„ìƒì´ ìê¸°ì†Œê°œì„œ, ë©´ì ‘, ì»¤ë¦¬ì–´ ì „ëµì— ë°”ë¡œ í™œìš©í•  ìˆ˜ ìˆëŠ” **ì‹¬ì¸µ ê¸°ì—…ë¶„ì„ ë¦¬í¬íŠ¸(ìµœì†Œ 3,500ì)**ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ë‹¤.  

      ### ì‘ì„± ì›ì¹™
      1. ê° í•­ëª©ì€ ë‹¨ìˆœ ë‚˜ì—´ì´ ì•„ë‹ˆë¼ **"ì™œ ì¤‘ìš”í•œê°€ â†’ ì·¨ì—… ì¤€ë¹„ìƒì—ê²Œ ì–´ë–¤ ì˜ë¯¸ì¸ê°€ â†’ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆëŠ”ê°€"**ì˜ íë¦„ìœ¼ë¡œ ì„œìˆ í•œë‹¤.  
      2. **ë°ì´í„°, ì‹¤ì œ ì±„ìš©ê³µê³  í‚¤ì›Œë“œ, ìµœê·¼ 3ë…„ ë‚´ ê¸°ì—… ì´ìŠˆ**ë¥¼ ë°˜ë“œì‹œ ë°˜ì˜í•œë‹¤.  
      3. ê° ì„¹ì…˜ ëì—ëŠ” **[ì·¨ì—… TIP]** ë°•ìŠ¤ë¥¼ ë„£ì–´ ì‹¤ì§ˆì  ì „ëµì„ ì •ë¦¬í•œë‹¤.  
      4. íŠ¹íˆ [3. ì±„ìš© ì „ëµ & ì¸ì¬ìƒ ë¶„ì„]ê³¼ [6. í•µì‹¬ ìš”ì•½ & ì»¨ì„¤í„´íŠ¸ ì¡°ì–¸]ì€ **ì„¸ë¶€ì ì´ê³  í–‰ë™ ê°€ëŠ¥í•œ ì „ëµ**ì„ í¬í•¨í•´ ìƒì„¸íˆ ì‘ì„±í•œë‹¤. (ê° ìµœì†Œ 1,500ì ì´ìƒ)  
      5. [6. í•µì‹¬ ìš”ì•½ & ì»¨ì„¤í„´íŠ¸ ì¡°ì–¸] íŒŒíŠ¸ì—ì„œëŠ” ë‹¨ìˆœ ìš”ì•½ì´ ì•„ë‹ˆë¼,  
         - "ì·¨ì—… ì¤€ë¹„ìƒì´ ë°˜ë“œì‹œ ê¸°ì–µí•´ì•¼ í•  5ê°€ì§€"  
         - "ê° í•­ëª©ì´ ì™œ ì¤‘ìš”í•œì§€ + ì‹¤ì œ ì¤€ë¹„ ë°©ë²•(ìì†Œì„œÂ·í¬íŠ¸í´ë¦¬ì˜¤Â·ë©´ì ‘ ì „ëµ)"  
         - "í•©ê²©ì„ ìœ„í•´ êµ¬ì§ìê°€ ì§€ê¸ˆ ë‹¹ì¥ í•´ì•¼ í•  3ê°€ì§€ í–‰ë™"  
         ì„ êµ¬ì²´ì ìœ¼ë¡œ ì œì‹œí•œë‹¤.  
      6. ì „ì²´ ê¸€ì€ ì»¨ì„¤íŒ… ë³´ê³ ì„œ ìŠ¤íƒ€ì¼ë¡œ, ìµœì†Œ 3,500ì ì´ìƒ ë¶„ëŸ‰ì„ ìœ ì§€í•œë‹¤.  

      ### ë¶„ì„ í”„ë ˆì„ì›Œí¬
      1. **ê¸°ì—… ê°œìš” & ì‚°ì—… í¬ì§€ì…˜**  
         - ê¸°ì—… ì—°í˜, í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸, ë§¤ì¶œ êµ¬ì¡°(ìµœê·¼ 3ë…„ ë°ì´í„°)  
         - ìµœê·¼ ì „ëµ ë³€í™” (AI, ê¸€ë¡œë²Œ í™•ì¥, M&A ë“±)  
         - ì‚°ì—… ë‚´ ìœ„ì¹˜(ê²½ìŸì‚¬ ëŒ€ë¹„ ê°•ì /ì•½ì )  

      2. **ì‚°ì—…Â·ì‹œì¥ ë¶„ì„**  
         - í•´ë‹¹ ì‚°ì—… ê·œëª¨Â·ì„±ì¥ë¥ , ì£¼ìš” íŠ¸ë Œë“œ (AI, ESG, ê¸€ë¡œë²Œ ë“±)  
         - ì£¼ìš” ê²½ìŸì‚¬ ë¹„êµ (ì‹œì¥ì ìœ ìœ¨, ì „ëµ ì°¨ì´)  
         - ê¸°ì—…ì´ ì§ë©´í•œ ê¸°íšŒì™€ ìœ„ê¸°  

      3. **ì±„ìš© ì „ëµ & ì¸ì¬ìƒ ë¶„ì„** (ìµœì†Œ 1,500ì)
         - 3-1. ì±„ìš© ë°©ì‹: ì™œ ìˆ˜ì‹œì±„ìš©Â·í”„ë¡œì íŠ¸ ë‹¨ìœ„ ì±„ìš©ì„ í•˜ëŠ”ì§€, ì´ê²ƒì´ êµ¬ì§ìì—ê²Œ ì˜ë¯¸í•˜ëŠ” ë°”  
         - 3-2. ì§ë¬´ë³„ ì±„ìš© í‚¤ì›Œë“œ: ê°œë°œ/ê¸°íš/ë°ì´í„°/ë””ìì¸ë³„ ìµœê·¼ ìš”êµ¬ ì—­ëŸ‰ì„ ì‹¤ì œ ê³µê³  ê¸°ë°˜ìœ¼ë¡œ ì •ë¦¬  
         - 3-3. ì¸ì¬ìƒ: ê³µì‹ ì¸ì¬ìƒ + ì‹¤ì œ í˜„ì—…ì—ì„œ ìš”êµ¬ë˜ëŠ” íŠ¹ì„±  
         - ê° ì„¸ë¶€ í•­ëª© í›„ ë°˜ë“œì‹œ "êµ¬ì§ì ê´€ì  í•´ì„ + êµ¬ì²´ì  ì¤€ë¹„ ì „ëµ" í¬í•¨  

      4. **ì·¨ì—… ì¤€ë¹„ ì „ëµ (ìì†Œì„œÂ·ë©´ì ‘ ì—°ê²°)**  
         - ìì†Œì„œ ì‘ì„± ì‹œ ê°•ì¡° í¬ì¸íŠ¸ (ì§ë¬´ë³„ ë§ì¶¤ ì‚¬ë¡€ í¬í•¨)  
         - ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸ê³¼ ë‹µë³€ ì „ëµ  
         - ê²½ìŸì‚¬ì™€ì˜ ì°¨ë³„í™” ì „ëµ  

      5. **ê²½ìŸì‚¬ ë¹„êµ ë° ì„ íƒ ì „ëµ**  
         - ë™ì¼ ì‚°ì—… ë‚´ ì£¼ìš” ê²½ìŸì‚¬ì™€ ë¹„êµ  
         - êµ¬ì§ìê°€ ì»¤ë¦¬ì–´ ì„ íƒ ì‹œ ê³ ë ¤í•  ì¥ë‹¨ì   

      6. **í•µì‹¬ ìš”ì•½ & ì»¨ì„¤í„´íŠ¸ ì¡°ì–¸** (ìµœì†Œ 1,500ì)
         - ì·¨ì—… ì¤€ë¹„ìƒì´ ë°˜ë“œì‹œ ê¸°ì–µí•´ì•¼ í•  í•µì‹¬ 5ê°€ì§€  
         - ê° í•­ëª©ì˜ ì¤‘ìš”ì„±ê³¼ ì‹¤ì œ ì¤€ë¹„ ë°©ë²• (ìì†Œì„œ, ë©´ì ‘, í¬íŠ¸í´ë¦¬ì˜¤ ê´€ì )  
         - í•©ê²©ì„ ìœ„í•´ êµ¬ì§ìê°€ ì§€ê¸ˆ ë‹¹ì¥ í•´ì•¼ í•  3ê°€ì§€ í–‰ë™  

      ### ì¶œë ¥ í˜•ì‹
      - ë§ˆí¬ë‹¤ìš´ êµ¬ì¡° (ì œëª©Â·ì†Œì œëª©Â·í‘œÂ·ë¦¬ìŠ¤íŠ¸ ì ê·¹ í™œìš©)  
      - ê° íŒŒíŠ¸ëŠ” ìµœì†Œ 5ë¬¸ë‹¨ ì´ìƒ, [3ë²ˆ]ê³¼ [6ë²ˆ] íŒŒíŠ¸ëŠ” ì‹¬ì¸µ ë¶„ì„ìœ¼ë¡œ ë¶„ëŸ‰ í™•ì¥  
      - ìµœì¢… ë¦¬í¬íŠ¸ëŠ” ìµœì†Œ 3,500ì ì´ìƒ, ì „ë¬¸ ì»¨ì„¤íŒ… ë³´ê³ ì„œì²˜ëŸ¼ ì‘ì„±
      
      JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µ:
      {
        "company_overview": "## 1. ê¸°ì—… ê°œìš” & ì‚°ì—… í¬ì§€ì…˜\\n[ìƒì„¸ ë‚´ìš©]",
        "industry_market": "## 2. ì‚°ì—…Â·ì‹œì¥ ë¶„ì„\\n[ìƒì„¸ ë‚´ìš©]",
        "hiring_strategy": "## 3. ì±„ìš© ì „ëµ & ì¸ì¬ìƒ ë¶„ì„\\n[ìƒì„¸ ë‚´ìš© - ìµœì†Œ 1,500ì]",
        "job_preparation": "## 4. ì·¨ì—… ì¤€ë¹„ ì „ëµ\\n[ìƒì„¸ ë‚´ìš©]",
        "competitor_comparison": "## 5. ê²½ìŸì‚¬ ë¹„êµ ë° ì„ íƒ ì „ëµ\\n[ìƒì„¸ ë‚´ìš©]",
        "consultant_advice": "## 6. í•µì‹¬ ìš”ì•½ & ì»¨ì„¤í„´íŠ¸ ì¡°ì–¸\\n[ìƒì„¸ ë‚´ìš© - ìµœì†Œ 1,500ì]"
      }
    PROMPT

    response = call_gpt_api(prompt, max_tokens: 4000, json_mode: true)
    
    begin
      JSON.parse(response)
    rescue JSON::ParserError => e
      Rails.logger.error "Failed to parse comprehensive analysis: #{e.message}"
      # Fallback to individual analysis methods
      {
        company_overview: analyze_company_overview,
        industry_market: analyze_industry_market,
        hiring_strategy: analyze_hiring_strategy,
        job_preparation: analyze_job_preparation,
        competitor_comparison: analyze_competitor_comparison,
        consultant_advice: generate_consultant_advice
      }
    end
  end

  def generate_executive_summary
    prompt = <<~PROMPT
      ğŸ“Œ ê¸°ì—…ë¶„ì„ ìš”ì•½ (ì·¨ì—… ì¤€ë¹„ìƒìš©)
      ê¸°ì—…ëª…: #{@company_name}
      í˜„ì¬ ë‚ ì§œ: #{Time.current.strftime('%Yë…„ %mì›”')}
      
      ë„ˆëŠ” ê²½ë ¥ 15ë…„ì˜ ì·¨ì—… ì»¨ì„¤í„´íŠ¸ë‹¤. 
      ì·¨ì—… ì¤€ë¹„ìƒì´ #{@company_name}ì— ì§€ì›í•˜ê¸° ì „ ë°˜ë“œì‹œ ì•Œì•„ì•¼ í•  í•µì‹¬ ì •ë³´ë¥¼ ìš”ì•½í•˜ë¼.
      
      ## ğŸ“Š í•œ ëˆˆì— ë³´ëŠ” #{@company_name}
      
      ### ğŸ¯ ì§€ì›ìê°€ ê¼­ ì•Œì•„ì•¼ í•  3ê°€ì§€
      1. [#{@company_name}ì˜ í˜„ì¬ ìƒí™©ê³¼ ì™œ ì§€ê¸ˆ ì§€ì›í•´ì•¼ í•˜ëŠ”ì§€]
      2. [ì–´ë–¤ ì¸ì¬ë¥¼ ì°¾ê³  ìˆìœ¼ë©°, ì¤€ë¹„í•´ì•¼ í•  í•µì‹¬ ì—­ëŸ‰]
      3. [ê²½ìŸì‚¬ ëŒ€ë¹„ ì°¨ë³„ì ê³¼ ì»¤ë¦¬ì–´ ì„±ì¥ ê°€ëŠ¥ì„±]
      
      ### ğŸ’¡ ì±„ìš© íŠ¸ë Œë“œ (2025ë…„ ê¸°ì¤€)
      â€¢ ì±„ìš© ê·œëª¨: [ì‹ ì…/ê²½ë ¥ ë¹„ìœ¨, ì—°ê°„ ì±„ìš© ì¸ì›]
      â€¢ ì£¼ë ¥ ì±„ìš© ì§ë¬´: [ê°€ì¥ ë§ì´ ë½‘ëŠ” 3ê°œ ì§ë¬´]
      â€¢ ì±„ìš© ë°©ì‹: [ê³µì±„/ìˆ˜ì‹œ/ì¸í„´ ì „í™˜ ë“±]
      â€¢ í‰ê·  ì—°ë´‰: [ì‹ ì… ê¸°ì¤€, ì—…ê³„ í‰ê·  ëŒ€ë¹„]
      
      ### âš¡ ì§€ì› ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
      â–¡ ìµœê·¼ 3ê°œì›” ë‚´ ì£¼ìš” ë‰´ìŠ¤ í™•ì¸í–ˆëŠ”ê°€?
      â–¡ ì£¼ë ¥ ì„œë¹„ìŠ¤/ì œí’ˆì„ ì§ì ‘ ì‚¬ìš©í•´ë´¤ëŠ”ê°€?
      â–¡ ê²½ìŸì‚¬ì™€ ì°¨ë³„ì ì„ ì„¤ëª…í•  ìˆ˜ ìˆëŠ”ê°€?
      â–¡ ìì†Œì„œì— ë„£ì„ ê¸°ì—… í‚¤ì›Œë“œ 3ê°œë¥¼ ì¤€ë¹„í–ˆëŠ”ê°€?
      â–¡ ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸ 10ê°œë¥¼ ë½‘ì•„ë´¤ëŠ”ê°€?
      
      ### ğŸš¨ ì£¼ì˜ì‚¬í•­
      â€¢ [ì´ ê¸°ì—…ì˜ ìµœê·¼ ì´ìŠˆë‚˜ ë¦¬ìŠ¤í¬]
      â€¢ [ì§€ì› ì‹œ í”¼í•´ì•¼ í•  ì‹¤ìˆ˜]
      
      êµ¬ì§ì ì…ì¥ì—ì„œ ì‹¤ìš©ì ì´ê³  êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•˜ë¼.
    PROMPT

    call_gpt_api(prompt, max_tokens: 1500)
  end

  def analyze_company_overview
    prompt = <<~PROMPT
      ê¸°ì—…ëª…: #{@company_name}
      í˜„ì¬ ë‚ ì§œ: 2025ë…„ 8ì›”
      
      ë‹¤ìŒ êµ¬ì¡°ë¡œ ì‘ì„±í•˜ë˜, ì¹´ì¹´ì˜¤ ë¶„ì„ ì˜ˆì‹œì²˜ëŸ¼ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ë‹¨ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë¼:
      
      ## 1. ê¸°ì—… ê°œìš” & ì‚°ì—… í¬ì§€ì…˜
      
      #{@company_name}ëŠ” [ì„¤ë¦½ë…„ë„, ì°½ì—… ë°°ê²½, ì´ˆê¸° ì„œë¹„ìŠ¤]ë¡œ ì¶œë°œí•œ ì´í›„, í˜„ì¬ëŠ” [í˜„ì¬ ì£¼ìš” ì‚¬ì—… ì˜ì—­] ê¸°ì—…ìœ¼ë¡œ ì„±ì¥í–ˆìŠµë‹ˆë‹¤. [í•µì‹¬ ì„±ê³¼ ì§€í‘œ - MAU, ì‹œì¥ì ìœ ìœ¨ ë“± êµ¬ì²´ì  ìˆ˜ì¹˜ í¬í•¨].
      
      **ì‚¬ì—… êµ¬ì¡°**
      â€¢ [ì£¼ë ¥ ì‚¬ì—…ë¶€ë¬¸ 1] (ì„¤ëª…): ë§¤ì¶œ ë¹„ì¤‘ ì•½ XX%
      â€¢ [ì£¼ë ¥ ì‚¬ì—…ë¶€ë¬¸ 2] (ì„¤ëª…): ë§¤ì¶œ ë¹„ì¤‘ ì•½ XX%
      â€¢ [ì‹ ê·œ/ì„±ì¥ ì‚¬ì—…ë¶€ë¬¸] (ì„¤ëª…): ë§¤ì¶œ ë¹„ì¤‘ ì•½ XX%
      
      **ìµœê·¼ 3ë…„ ë§¤ì¶œ ì¶”ì´**
      â€¢ 2023ë…„: XXì¡°(ì–µ) ì›
      â€¢ 2024ë…„: XXì¡°(ì–µ) ì›
      â€¢ 2025ë…„(ìƒë°˜ê¸°/ì˜ˆìƒ): XXì¡°(ì–µ) ì›
      
      #{@company_name}ëŠ” [í•µì‹¬ ì „ëµ ë³€í™”]ë¥¼ ì„ ì–¸í–ˆìŠµë‹ˆë‹¤. ëŒ€í‘œì ìœ¼ë¡œ **[êµ¬ì²´ì  í”„ë¡œì íŠ¸/ê¸°ìˆ  - ë³¼ë“œì²´ë¡œ ê°•ì¡°]**ë¥¼ ê°œë°œí•´ [ì ìš© ë¶„ì•¼]ì— ì ìš© ì¤‘ì´ë©°, [íˆ¬ì ì˜ì—­]ì—ë„ [íˆ¬ì ê·œëª¨]ì„ íˆ¬ìí•˜ê³  ìˆìŠµë‹ˆë‹¤.
      
      [ì¶”ê°€ ë¬¸ë‹¨: ìµœê·¼ ì£¼ìš” ì´ìŠˆ, M&A, ê¸€ë¡œë²Œ ì§„ì¶œ ë“±]
      
      **[ì·¨ì—… TIP]**
      â†’ ì§€ì›ìëŠ” #{@company_name}ë¥¼ '[ê³¼ê±° ì´ë¯¸ì§€]'ë¡œë§Œ ë³´ì§€ ë§ê³ , [í˜„ì¬ í•µì‹¬ ì •ì²´ì„± 3ê°€ì§€]ë¼ëŠ” ì •ì²´ì„±ìœ¼ë¡œ ë°”ë¼ë´ì•¼ í•©ë‹ˆë‹¤. ìê¸°ì†Œê°œì„œì—ì„œ "ë‚´ ê²½í—˜ì´ #{@company_name}ì˜ [í•µì‹¬ ì „ëµ 3ê°€ì§€]ì— ì–´ë–»ê²Œ ê¸°ì—¬í•  ìˆ˜ ìˆëŠ”ê°€"ë¥¼ ì—°ê²°í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.
      
      ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ì½ê¸° ì‰½ê²Œ ì‘ì„±í•˜ë¼.
    PROMPT

    call_gpt_api(prompt, max_tokens: 2000)
  end

  def analyze_industry_market
    prompt = <<~PROMPT
      ê¸°ì—…ëª…: #{@company_name}
      í˜„ì¬ ë‚ ì§œ: 2025ë…„ 8ì›”
      
      ë‹¤ìŒ êµ¬ì¡°ë¡œ ì‘ì„±í•˜ë˜, ì¹´ì¹´ì˜¤ ë¶„ì„ ì˜ˆì‹œì²˜ëŸ¼ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ë‹¨ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë¼:
      
      ## 2. ì‚°ì—…Â·ì‹œì¥ ë¶„ì„
      
      #{@company_name}ê°€ ì†í•œ [ì‚°ì—… ë¶„ë¥˜] ì‹œì¥ì€ 2025ë…„ ê¸°ì¤€ [ì‹œì¥ ê·œëª¨]ì› ê·œëª¨ë¡œ, ì—°í‰ê·  [X]% ì„±ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì „ ì„¸ê³„ì ìœ¼ë¡œëŠ” [ê¸€ë¡œë²Œ ì‹œì¥ ê·œëª¨]ì— ë‹¬í•˜ë©°, í•œêµ­ì€ [ìˆœìœ„ ë° ì ìœ ìœ¨] ìœ„ì¹˜ë¥¼ ì°¨ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤.
      
      **2025ë…„ í•µì‹¬ íŠ¸ë Œë“œ**
      
      ì²«ì§¸, **AIì™€ ìë™í™”**ê°€ ì—…ê³„ ì „ë°˜ì„ ì¬í¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. [êµ¬ì²´ì  ë³€í™” ì‚¬ë¡€ì™€ ì˜í–¥]. #{@company_name}ë„ [AI ê´€ë ¨ íˆ¬ìë‚˜ í”„ë¡œì íŠ¸]ë¥¼ í†µí•´ ëŒ€ì‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.
      
      ë‘˜ì§¸, **ESG ê²½ì˜ê³¼ ì§€ì†ê°€ëŠ¥ì„±**ì´ í•„ìˆ˜ ìš”ì†Œê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. [ê·œì œ ë³€í™”, ì†Œë¹„ì ì¸ì‹ ë³€í™”]. íŠ¹íˆ [êµ¬ì²´ì  ì‚¬ë¡€]ê°€ ì£¼ëª©ë°›ê³  ìˆìŠµë‹ˆë‹¤.
      
      ì…‹ì§¸, **ê¸€ë¡œë²Œ ì‹œì¥ ì§„ì¶œ**ì´ ê°€ì†í™”ë˜ê³  ìˆìŠµë‹ˆë‹¤. #{@company_name}ëŠ” [í•´ì™¸ ì§„ì¶œ í˜„í™©, ìˆ˜ì¶œ ë¹„ì¤‘]ì„ ë‹¬ì„±í–ˆìœ¼ë©°, [í–¥í›„ ê³„íš]ì„ ì¶”ì§„ ì¤‘ì…ë‹ˆë‹¤.
      
      **ê²½ìŸ í™˜ê²½ ë¶„ì„**
      
      | ê¸°ì—… | ì‹œì¥ì ìœ ìœ¨ | í•µì‹¬ ê°•ì  | ì—°ê°„ ì±„ìš© | í‰ê· ì—°ë´‰(ì‹ ì…) |
      |------|-----------|-----------|-----------|--------------|
      | #{@company_name} | XX% | [ê°•ì  2-3ê°œ] | XXXëª… | X,XXXë§Œì› |
      | [ê²½ìŸì‚¬ A] | XX% | [ê°•ì  2-3ê°œ] | XXXëª… | X,XXXë§Œì› |
      | [ê²½ìŸì‚¬ B] | XX% | [ê°•ì  2-3ê°œ] | XXXëª… | X,XXXë§Œì› |
      
      #{@company_name}ëŠ” [í•µì‹¬ ì°¨ë³„í™” ìš”ì†Œ]ë¡œ ê²½ìŸìš°ìœ„ë¥¼ í™•ë³´í•˜ê³  ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ [êµ¬ì²´ì  ê°•ì ]ì€ ì—…ê³„ì—ì„œ ë…ë³´ì ì…ë‹ˆë‹¤. ë‹¤ë§Œ [ê²½ìŸì‚¬ A]ì˜ [íŠ¹ì • ì˜ì—­] ê°•ì„¸ì™€ [ê²½ìŸì‚¬ B]ì˜ [íŠ¹ì • ì „ëµ]ì€ ì£¼ëª©í•  ë§Œí•œ ìœ„í˜‘ ìš”ì¸ì…ë‹ˆë‹¤.
      
      **ê¸°íšŒì™€ ìœ„ê¸° ìš”ì¸**
      
      #{@company_name}ì—ê²Œ ê°€ì¥ í° **ê¸°íšŒ**ëŠ” [êµ¬ì²´ì  ê¸°íšŒ ìš”ì¸ - ì‹ ì‹œì¥, ì‹ ê¸°ìˆ , ì •ì±… ë“±]ì…ë‹ˆë‹¤. [ì™œ ê¸°íšŒì¸ì§€ ì„¤ëª…]. ì´ëŠ” êµ¬ì§ìì—ê²Œ [íŠ¹ì • ì§ë¬´/ë¶€ì„œ]ì˜ ì±„ìš© í™•ëŒ€ì™€ ì„±ì¥ ê¸°íšŒë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
      
      ë°˜ë©´ **ìœ„ê¸° ìš”ì¸**ìœ¼ë¡œëŠ” [êµ¬ì²´ì  ìœ„í—˜ - ê·œì œ, ê²½ìŸ, ì‹œì¥ ë³€í™” ë“±]ì´ ìˆìŠµë‹ˆë‹¤. [ìœ„ê¸°ì˜ ì˜í–¥]. í•˜ì§€ë§Œ ì´ëŠ” ì˜¤íˆë ¤ [í˜ì‹  ë¶„ì•¼]ì—ì„œì˜ ë„ì „ì ì¸ í”„ë¡œì íŠ¸ ì°¸ì—¬ ê¸°íšŒê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      
      **[ì·¨ì—… TIP] ì‚°ì—… ì´í•´ë„ ì–´í•„ ì „ëµ**
      â†’ ë©´ì ‘ì—ì„œ "ìš°ë¦¬ ì‚°ì—…ì˜ ìµœëŒ€ ì´ìŠˆëŠ”?" ì§ˆë¬¸ì´ ë‚˜ì˜¬ í™•ë¥  90%
      
      ëª¨ë²” ë‹µì•ˆ ì˜ˆì‹œ:
      "#{@company_name}ê°€ ì†í•œ [ì‚°ì—…]ì˜ ìµœëŒ€ ê³¼ì œëŠ” [í•µì‹¬ ì´ìŠˆ]ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ì´ëŠ” [ìœ„ê¸° ìš”ì†Œ]ì´ê¸°ë„ í•˜ì§€ë§Œ, ë™ì‹œì— [ê¸°íšŒ ì „í™˜ ë°©ë²•]ì˜ ê¸°íšŒì´ê¸°ë„ í•©ë‹ˆë‹¤. íŠ¹íˆ #{@company_name}ì˜ [ê°•ì ]ì„ í™œìš©í•œë‹¤ë©´ [êµ¬ì²´ì  ì œì•ˆ]ì´ ê°€ëŠ¥í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤."
      
      ì¤€ë¹„ í¬ì¸íŠ¸:
      1. ìµœì‹  ì‚°ì—… ë¦¬í¬íŠ¸ 2-3ê°œ í•„ë…
      2. ê²½ìŸì‚¬ ë¹„êµ ì‹œ #{@company_name} ê°•ì  3ê°€ì§€ ì•”ê¸°
      3. ì‚°ì—… íŠ¸ë Œë“œë³„ ê°œì¸ ì˜ê²¬ ì •ë¦¬
      
      ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ì½ê¸° ì‰½ê²Œ ì‘ì„±í•˜ë¼.
    PROMPT

    call_gpt_api(prompt, max_tokens: 2000)
  end

  def analyze_hiring_strategy
    prompt = <<~PROMPT
      ê¸°ì—…ëª…: #{@company_name}
      í˜„ì¬ ë‚ ì§œ: 2025ë…„ 8ì›”
      
      ë‹¤ìŒ êµ¬ì¡°ë¡œ ì‘ì„±í•˜ë˜, ì¹´ì¹´ì˜¤ ë¶„ì„ ì˜ˆì‹œì²˜ëŸ¼ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ë‹¨ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë¼:
      
      ## 3. ì±„ìš© ì „ëµ & ì¸ì¬ìƒ ë¶„ì„
      
      ### 3-1. ì±„ìš© ë°©ì‹ ë¶„ì„
      
      #{@company_name}ëŠ” [ì±„ìš© ë°©ì‹ - ê³µì±„/ìˆ˜ì‹œ/ì¸í„´ ì „í™˜]ì„ ì£¼ë ¥ìœ¼ë¡œ í•˜ê³  ìˆìŠµë‹ˆë‹¤. 2024ë…„ì—ëŠ” [ì´ ì±„ìš© ì¸ì›]ëª…ì„ ì±„ìš©í–ˆìœ¼ë©°, 2025ë…„ì—ëŠ” [ì˜ˆìƒ ì¸ì›]ëª… ê·œëª¨ë¡œ í™•ëŒ€í•  ê³„íšì…ë‹ˆë‹¤. ì‹ ì…ê³¼ ê²½ë ¥ ë¹„ìœ¨ì€ ì•½ [X:Y]ë¡œ, [ì‹ ì…/ê²½ë ¥ ì„ í˜¸ ì´ìœ ]ë¥¼ ë°˜ì˜í•œ ê²ƒì…ë‹ˆë‹¤.
      
      ì´ëŸ¬í•œ ì±„ìš© ë°©ì‹ì€ #{@company_name}ì˜ [ë¹„ì¦ˆë‹ˆìŠ¤ ì „ëµ - ì˜ˆ: ì‹ ì‚¬ì—… í™•ì¥, ë””ì§€í„¸ ì „í™˜]ê³¼ ë°€ì ‘í•˜ê²Œ ì—°ê´€ë˜ì–´ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ [íŠ¹ì • ì‚¬ì—… ë¶€ë¬¸]ì˜ ì„±ì¥ì— ë”°ë¼ [ê´€ë ¨ ì§ë¬´]ì˜ ì±„ìš©ì´ í¬ê²Œ ëŠ˜ì–´ë‚˜ê³  ìˆìŠµë‹ˆë‹¤.
      
      **ğŸ‘‰ êµ¬ì§ì ëŒ€ì‘ ì „ëµ**
      
      ìˆ˜ì‹œ ì±„ìš© ì²´ì œì—ì„œëŠ” 'ìƒì‹œ ì¤€ë¹„'ê°€ í•µì‹¬ì…ë‹ˆë‹¤. ì›” 1íšŒ ì´ë ¥ì„œë¥¼ ì—…ë°ì´íŠ¸í•˜ê³ , ì›í‹°ë“œì™€ íšŒì‚¬ ì±„ìš© í˜ì´ì§€ì— ì•Œë¦¼ì„ ì„¤ì •í•˜ì„¸ìš”. #{@company_name}ëŠ” ë³´í†µ [ì±„ìš© ê³µê³  í›„ ë§ˆê°ê¹Œì§€ ê¸°ê°„]ì˜ ì§§ì€ ê¸°ê°„ë§Œ ëª¨ì§‘í•˜ë¯€ë¡œ ë¹ ë¥¸ ëŒ€ì‘ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.
      
      ì¸í„´ ì „í™˜í˜•ì˜ ê²½ìš°, ì •ê·œì§ ì „í™˜ìœ¨ì´ ì•½ [X]%ì— ë‹¬í•©ë‹ˆë‹¤. ì¸í„´ ê¸°ê°„ ì¤‘ [í‰ê°€ ê¸°ì¤€ - ì˜ˆ: í”„ë¡œì íŠ¸ ì„±ê³¼, íŒ€ì›Œí¬]ë¥¼ ì¤‘ì ì ìœ¼ë¡œ í‰ê°€í•˜ë¯€ë¡œ, ì´ë¥¼ ì—¼ë‘ì— ë‘ê³  ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.
      
      ### 3-2. ì§ë¬´ë³„ í•µì‹¬ í‚¤ì›Œë“œ
      
      **ê°œë°œ/ì—”ì§€ë‹ˆì–´ë§ ì§êµ°**
      #{@company_name}ì˜ ê°œë°œ ì§êµ°ì€ '[í•„ìˆ˜ ê¸°ìˆ  ìŠ¤íƒ]'ì„ ê¸°ë³¸ìœ¼ë¡œ ìš”êµ¬í•©ë‹ˆë‹¤. ìµœê·¼ ê³µê³ ë¥¼ ë¶„ì„í•˜ë©´ "ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬ ê²½í—˜", "MSA ì„¤ê³„", "í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ" ê°™ì€ í‚¤ì›Œë“œê°€ ìì£¼ ë“±ì¥í•©ë‹ˆë‹¤.
      
      ìì†Œì„œ ì‘ì„± ì‹œ ë‹¨ìˆœíˆ "Python ëŠ¥ìˆ™"ì´ë¼ê³  ì“°ì§€ ë§ê³ , "Pythonìœ¼ë¡œ ì¼ ì²˜ë¦¬ëŸ‰ 40% ê°œì„ í•œ ê²½í—˜"ì²˜ëŸ¼ êµ¬ì²´ì  ì„±ê³¼ì™€ ì—°ê²°í•˜ì„¸ìš”. #{@company_name}ëŠ” íŠ¹íˆ [íŠ¹ì • ê¸°ìˆ ì´ë‚˜ ê²½í—˜]ì„ ê°€ì§„ ì§€ì›ìë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.
      
      **ê¸°íš/ë§ˆì¼€íŒ… ì§êµ°**
      ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •ì´ í•µì‹¬ì…ë‹ˆë‹¤. "SQLë¡œ ìœ ì € í–‰ë™ ë¶„ì„", "A/B í…ŒìŠ¤íŠ¸ ì„¤ê³„", "ê·¸ë¡œìŠ¤ í•´í‚¹" ê²½í—˜ì´ ìˆë‹¤ë©´ ë°˜ë“œì‹œ ê°•ì¡°í•˜ì„¸ìš”. ë‹¨ìˆœí•œ "ë§ˆì¼€íŒ… ìº í˜ì¸ ì„±ê³µ"ë³´ë‹¤ëŠ” "CTR 2.5% ë‹¬ì„±, ì—…ê³„ í‰ê·  ëŒ€ë¹„ 150%"ì²˜ëŸ¼ ì •ëŸ‰í™”ëœ ì„±ê³¼ë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.
      
      **ë””ìì¸ ì§êµ°**
      í¬íŠ¸í´ë¦¬ì˜¤ì˜ í€„ë¦¬í‹°ê°€ í•©ê²©ì„ ì¢Œìš°í•©ë‹ˆë‹¤. #{@company_name}ëŠ” [ë””ìì¸ ì² í•™ - ì˜ˆ: ì‚¬ìš©ì ì¤‘ì‹¬, ë¯¸ë‹ˆë©€ë¦¬ì¦˜]ì„ ì¤‘ì‹œí•˜ë©°, í”„ë¡œí† íƒ€ì´í•‘ê³¼ ì‚¬ìš©ì„± í…ŒìŠ¤íŠ¸ ê²½í—˜ì„ ìš°ëŒ€í•©ë‹ˆë‹¤.
      
      ### 3-3. ì¸ì¬ìƒ ì‹¬ì¸µ ë¶„ì„
      
      #{@company_name}ì˜ ê³µì‹ ì¸ì¬ìƒì€ "[ì¸ì¬ìƒ 1]", "[ì¸ì¬ìƒ 2]", "[ì¸ì¬ìƒ 3]"ì…ë‹ˆë‹¤. 
      
      í•˜ì§€ë§Œ ì‹¤ì œ í•©ê²©ìë“¤ì„ ë¶„ì„í•´ë³´ë©´, **"[ì‹¤ì œ ì¤‘ìš”í•œ íŠ¹ì§• 1]"**ì´ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, [êµ¬ì²´ì  ì‚¬ë¡€]. ë˜í•œ **"[ì‹¤ì œ ì¤‘ìš”í•œ íŠ¹ì§• 2]"**ë„ ìì£¼ ì–¸ê¸‰ë˜ëŠ”ë°, ì´ëŠ” #{@company_name}ì˜ [ì¡°ì§ ë¬¸í™”ë‚˜ ì—…ë¬´ ë°©ì‹]ê³¼ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤.
      
      íŠ¹íˆ ì£¼ëª©í•  ì ì€ #{@company_name}ê°€ "[íŠ¹ë³„íˆ ì„ í˜¸í•˜ëŠ” ì¸ì¬ ìœ í˜•]"ì„ ì„ í˜¸í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ìµœê·¼ ì±„ìš©ëœ ì¸ì¬ë“¤ì˜ ê³µí†µì ì„ ë³´ë©´ [ê³µí†µ íŠ¹ì§• 3-4ê°œ]ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
      
      ### 3-4. ì±„ìš© í”„ë¡œì„¸ìŠ¤ ê³µëµë²•
      
      **ì„œë¥˜ ì „í˜• (ê²½ìŸë¥  ì•½ XX:1)**
      #{@company_name}ì˜ ì„œë¥˜ ì‹¬ì‚¬ëŠ” [ATS/ì¸ì‚¬íŒ€ ì§ì ‘ ê²€í† ] ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤. í•„ìˆ˜ í‚¤ì›Œë“œì¸ "[í‚¤ì›Œë“œ 1]", "[í‚¤ì›Œë“œ 2]", "[í‚¤ì›Œë“œ 3]"ê°€ í¬í•¨ë˜ì§€ ì•Šìœ¼ë©´ íƒˆë½ í™•ë¥ ì´ ë†’ìŠµë‹ˆë‹¤. 
      
      **ì½”ë”©í…ŒìŠ¤íŠ¸/ì§ë¬´í…ŒìŠ¤íŠ¸**
      ê°œë°œ ì§êµ°ì˜ ê²½ìš° [ë‚œì´ë„ ìˆ˜ì¤€ - ì˜ˆ: ë°±ì¤€ ì‹¤ë²„~ê³¨ë“œ]ì˜ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œê°€ ì¶œì œë©ë‹ˆë‹¤. [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤/í•´ì»¤ë­í¬] í”Œë«í¼ì„ ì‚¬ìš©í•˜ë©°, ì£¼ë¡œ [ë¬¸ì œ ìœ í˜•]ì´ ë‚˜ì˜µë‹ˆë‹¤. ê¸°íš/ë§ˆì¼€íŒ… ì§êµ°ì€ [ì¼€ì´ìŠ¤ ìŠ¤í„°ë””/ë°ì´í„° ë¶„ì„] ê³¼ì œê°€ ì£¼ì–´ì§‘ë‹ˆë‹¤.
      
      **ë©´ì ‘ ì „í˜•**
      1ì°¨ ì‹¤ë¬´ì§„ ë©´ì ‘ì—ì„œëŠ” [ì§ë¬´ ì—­ëŸ‰ ê²€ì¦ ë°©ì‹]ì„ í†µí•´ í‰ê°€í•©ë‹ˆë‹¤. "ìš°ë¦¬ ì„œë¹„ìŠ¤ì˜ ë¬¸ì œì ê³¼ ê°œì„  ë°©ì•ˆ"ì€ ê±°ì˜ 100% ë‚˜ì˜¤ëŠ” ì§ˆë¬¸ì´ë‹ˆ ë°˜ë“œì‹œ ì¤€ë¹„í•˜ì„¸ìš”. 2ì°¨ ì„ì› ë©´ì ‘ì—ì„œëŠ” [ê°€ì¹˜ê´€, ì¥ê¸° ë¹„ì „]ì„ ì¤‘ì ì ìœ¼ë¡œ ë´…ë‹ˆë‹¤.
      
      **[ì·¨ì—… TIP] ì°¨ë³„í™” ì „ëµ**
      â†’ #{@company_name}ëŠ” ìŠ¤í™ë³´ë‹¤ 'ì‹¤ë¬´ ëŠ¥ë ¥ê³¼ ë¬¸í™” ì í•©ì„±'ì„ ì¤‘ì‹œí•©ë‹ˆë‹¤.
      1. ì§ë¬´ ê´€ë ¨ í”„ë¡œì íŠ¸ ê²°ê³¼ë¬¼ > ìê²©ì¦
      2. ì‹¤ë¬´ ì¸í„´ ê²½í—˜ > ë†’ì€ í•™ì 
      3. íŒ€ í”„ë¡œì íŠ¸ì—ì„œì˜ ê¸°ì—¬ë„ > ê°œì¸ ì„±ê³¼
      4. #{@company_name} ì„œë¹„ìŠ¤ ê°œì„  ì œì•ˆì„œ ì¤€ë¹„ (ë©´ì ‘ ì‹œ ì œì¶œ)
      
      ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ì½ê¸° ì‰½ê²Œ ì‘ì„±í•˜ë¼.
    PROMPT

    call_gpt_api(prompt, max_tokens: 3000)
  end

  def analyze_job_preparation
    prompt = <<~PROMPT
      ê¸°ì—…ëª…: #{@company_name}
      í˜„ì¬ ë‚ ì§œ: 2025ë…„ 8ì›”
      
      ë‹¤ìŒ êµ¬ì¡°ë¡œ ì‘ì„±í•˜ë˜, ì¹´ì¹´ì˜¤ ë¶„ì„ ì˜ˆì‹œì²˜ëŸ¼ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ë‹¨ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë¼:
      
      ## 4. ì·¨ì—… ì¤€ë¹„ ì „ëµ (ìì†Œì„œÂ·ë©´ì ‘ ê°€ì´ë“œ)
      
      ### ìê¸°ì†Œê°œì„œ ì‘ì„± ì „ëµ
      
      #{@company_name}ì˜ ìì†Œì„œëŠ” ë³´í†µ 3-4ê°œ ë¬¸í•­ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ê°€ì¥ ì¤‘ìš”í•œ "ì§€ì›ë™ê¸°"ëŠ” ë°˜ë“œì‹œ #{@company_name}ë§Œì˜ ì°¨ë³„ì ì„ ì–¸ê¸‰í•˜ë©° ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, "#{@company_name}ì˜ [ìµœê·¼ ë‰´ìŠ¤ë‚˜ ì „ëµ]ì„ ë³´ê³  [êµ¬ì²´ì  ê°ìƒ]ì„ ëŠê¼ˆìŠµë‹ˆë‹¤"ì²˜ëŸ¼ ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
      
      ì¤‘ê°„ ë¶€ë¶„ì—ì„œëŠ” ë³¸ì¸ì˜ ê²½í—˜ê³¼ íšŒì‚¬ ë¹„ì „ì„ ì—°ê²°í•˜ë˜, ì¶”ìƒì ì¸ í‘œí˜„ì€ í”¼í•˜ì„¸ìš”. "ì €ëŠ” [êµ¬ì²´ì  í”„ë¡œì íŠ¸]ë¥¼ í†µí•´ [ì •ëŸ‰ì  ì„±ê³¼]ë¥¼ ë‹¬ì„±í–ˆê³ , ì´ ê²½í—˜ì´ #{@company_name}ì˜ [êµ¬ì²´ì  ì—…ë¬´]ì— ê¸°ì—¬í•  ìˆ˜ ìˆë‹¤ê³  í™•ì‹ í•©ë‹ˆë‹¤"ì²˜ëŸ¼ êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”.
      
      **#{@company_name} ë§ì¶¤ í‚¤ì›Œë“œ ì „ëµ**
      
      ìµœê·¼ ê³µê³ ë¥¼ ë¶„ì„í•œ ê²°ê³¼, "[í‚¤ì›Œë“œ 1]", "[í‚¤ì›Œë“œ 2]", "[í‚¤ì›Œë“œ 3]"ê°€ í•µì‹¬ í‚¤ì›Œë“œì…ë‹ˆë‹¤. ì´ ì¤‘ ìµœì†Œ 2ê°œëŠ” ë°˜ë“œì‹œ ìì†Œì„œì— í¬í•¨ì‹œí‚¤ì„¸ìš”. ë°˜ë©´ "ì—´ì •", "ë„ì „ì •ì‹ ", "ê¸€ë¡œë²Œ ì¸ì¬" ê°™ì€ ì§„ë¶€í•œ í‘œí˜„ì€ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
      
      ì§ë¬´ ì—­ëŸ‰ì„ ì„œìˆ í•  ë•ŒëŠ” STAR ê¸°ë²•ì„ í™œìš©í•˜ë˜, #{@company_name}ê°€ ì¤‘ì‹œí•˜ëŠ” [í•µì‹¬ ì—­ëŸ‰]ê³¼ ì—°ê²°í•˜ì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´, [êµ¬ì²´ì  ì˜ˆì‹œ ìƒí™©]ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ íš¨ê³¼ì ì…ë‹ˆë‹¤.
      
      ### ë©´ì ‘ ì¤€ë¹„ ì „ëµ
      
      **1ì°¨ ì‹¤ë¬´ ë©´ì ‘ ê³µëµë²•**
      
      #{@company_name}ì˜ ì‹¤ë¬´ ë©´ì ‘ì€ ì•½ [ì‹œê°„] ë™ì•ˆ ì§„í–‰ë˜ë©°, ì£¼ë¡œ [ë©´ì ‘ ë°©ì‹ - ì˜ˆ: 2:1, ë‹¤ëŒ€ë‹¤]ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤. ê±°ì˜ 100% ë‚˜ì˜¤ëŠ” ì§ˆë¬¸ì€ "ìš°ë¦¬ ì„œë¹„ìŠ¤/ì œí’ˆì„ ê°œì„ í•œë‹¤ë©´?"ì…ë‹ˆë‹¤. ì´ ì§ˆë¬¸ì—ëŠ” ë°˜ë“œì‹œ [ì„œë¹„ìŠ¤ëª…]ì„ ì§ì ‘ ì‚¬ìš©í•´ë³¸ ê²½í—˜ê³¼ í•¨ê»˜, ì‚¬ìš©ì ê´€ì ì˜ êµ¬ì²´ì  ê°œì„ ì•ˆì„ ì œì‹œí•´ì•¼ í•©ë‹ˆë‹¤.
      
      "ê²½ìŸì‚¬ ëŒ€ë¹„ ìš°ë¦¬ íšŒì‚¬ ê°•ì ì€?" ì§ˆë¬¸ë„ ë¹ˆì¶œ ë¬¸ì œì…ë‹ˆë‹¤. ë‹¨ìˆœ ë¹„êµê°€ ì•„ë‹Œ, #{@company_name}ì˜ [í•µì‹¬ ì°¨ë³„í™” ìš”ì†Œ]ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´, "[ê²½ìŸì‚¬ A]ëŠ” [íŠ¹ì§•]ì´ ê°•ì ì´ì§€ë§Œ, #{@company_name}ëŠ” [ì°¨ë³„í™” í¬ì¸íŠ¸]ì—ì„œ ë…ë³´ì ì…ë‹ˆë‹¤"ë¼ëŠ” êµ¬ì¡°ë¡œ ë‹µë³€í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤.
      
      ê¸°ìˆ  ì§ˆë¬¸ì˜ ê²½ìš°, [ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒ]ì— ëŒ€í•œ ì‹¬í™” ì§ˆë¬¸ì´ ë‚˜ì˜¬ ìˆ˜ ìˆìœ¼ë‹ˆ ì¤€ë¹„í•˜ì„¸ìš”. íŠ¹íˆ [ìµœì‹  ê¸°ìˆ  íŠ¸ë Œë“œ]ì— ëŒ€í•œ ì˜ê²¬ì„ ë¬»ëŠ” ê²½ìš°ê°€ ë§ìœ¼ë¯€ë¡œ, ê´€ë ¨ ì•„í‹°í´ì„ 3-4ê°œ ì •ë„ ì½ê³  ê°€ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.
      
      **2ì°¨ ì„ì› ë©´ì ‘ ëŒ€ë¹„**
      
      ì„ì› ë©´ì ‘ì€ ì£¼ë¡œ [í‰ê°€ í¬ì¸íŠ¸ - ì˜ˆ: ì¡°ì§ ì í•©ì„±, ì¥ê¸° ë¹„ì „]ì„ ì¤‘ì ì ìœ¼ë¡œ í‰ê°€í•©ë‹ˆë‹¤. CEO [ì´ë¦„]ì˜ ì¸í„°ë·°ë‚˜ ì €ì„œë¥¼ ë°˜ë“œì‹œ ì½ê³  ê°€ì„¸ìš”. íŠ¹íˆ #{@company_name}ì˜ ë¹„ì „ì¸ "[íšŒì‚¬ ë¹„ì „]"ì— ëŒ€í•œ ë³¸ì¸ì˜ í•´ì„ê³¼ ê¸°ì—¬ ë°©ì•ˆì„ ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.
      
      "5ë…„ í›„ ì»¤ë¦¬ì–´ ëª©í‘œ"ë¥¼ ë¬¼ì„ ë•ŒëŠ” #{@company_name} ë‚´ì—ì„œì˜ ì„±ì¥ì„ ì „ì œë¡œ ë‹µë³€í•˜ì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´, "#{@company_name}ì˜ [ì‚¬ì—… ë¶€ë¬¸]ì—ì„œ [êµ¬ì²´ì  ì—­í• ]ë¡œ ì„±ì¥í•˜ì—¬ [ê¸°ì—¬ ë‚´ìš©]ì„ í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤"ì²˜ëŸ¼ íšŒì‚¬ì™€ í•¨ê»˜ ì„±ì¥í•˜ëŠ” ë¹„ì „ì„ ì œì‹œí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.
      
      ### í¬íŠ¸í´ë¦¬ì˜¤ ì¤€ë¹„ ê°€ì´ë“œ
      
      **ê°œë°œ ì§êµ°**ì€ GitHub ë ˆí¬ì§€í† ë¦¬ ì •ë¦¬ê°€ í•„ìˆ˜ì…ë‹ˆë‹¤. READMEë¥¼ ì¶©ì‹¤íˆ ì‘ì„±í•˜ê³ , ì½”ë“œ í€„ë¦¬í‹°ë¥¼ ë†’ì´ëŠ” ë° ì§‘ì¤‘í•˜ì„¸ìš”. #{@company_name}ëŠ” íŠ¹íˆ [ì„ í˜¸í•˜ëŠ” ê°œë°œ ë°©ì‹ - ì˜ˆ: í´ë¦° ì½”ë“œ, í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ]ì„ ì¤‘ì‹œí•˜ë¯€ë¡œ ì´ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆëŠ” í”„ë¡œì íŠ¸ë¥¼ ì„ ë³„í•˜ì„¸ìš”.
      
      **ê¸°íš/ë§ˆì¼€íŒ… ì§êµ°**ì€ ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì • ëŠ¥ë ¥ì„ ë³´ì—¬ì¤˜ì•¼ í•©ë‹ˆë‹¤. A/B í…ŒìŠ¤íŠ¸ ê²°ê³¼, ì‚¬ìš©ì ë¶„ì„ ë¦¬í¬íŠ¸, ì„±ê³¼ ì§€í‘œ ê°œì„  ì‚¬ë¡€ë¥¼ ê°ê° 1ê°œì”©ì€ ì¤€ë¹„í•˜ì„¸ìš”.
      
      **ë””ìì¸ ì§êµ°**ì€ ë² í•œì²´ë‚˜ ë…¸ì…˜ìœ¼ë¡œ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ êµ¬ì„±í•˜ë˜, í”„ë¡œì„¸ìŠ¤ ì„¤ëª…ì„ ë°˜ë“œì‹œ í¬í•¨í•˜ì„¸ìš”. #{@company_name}ì˜ ë””ìì¸ ì² í•™ì¸ [ë””ìì¸ ì² í•™]ì„ ë°˜ì˜í•œ ì‘ì—…ë¬¼ì„ ìš°ì„  ë°°ì¹˜í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
      
      **[ì·¨ì—… TIP] í•©ê²©ë¥  ë†’ì´ëŠ” ë””í…Œì¼**
      â†’ ì§€ì› 1ì£¼ì¼ ì „ë¶€í„° #{@company_name} ê´€ë ¨ ë‰´ìŠ¤ë¥¼ ë§¤ì¼ ì²´í¬í•˜ì„¸ìš”. ë©´ì ‘ ë‹¹ì¼ ì•„ì¹¨ì—ë„ í™•ì¸í•˜ì—¬ ìµœì‹  ì´ìŠˆë¥¼ íŒŒì•…í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë˜í•œ ì‹¤ë¬´ì§„ì˜ LinkedInì„ í™•ì¸í•˜ì—¬ ìµœê·¼ ê´€ì‹¬ì‚¬ë¥¼ íŒŒì•…í•˜ë©´ ë©´ì ‘ì—ì„œ ì¢‹ì€ ì¸ìƒì„ ë‚¨ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      
      ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ì½ê¸° ì‰½ê²Œ ì‘ì„±í•˜ë¼.
    PROMPT

    call_gpt_api(prompt, max_tokens: 2500)
  end

  def analyze_competitor_comparison
    prompt = <<~PROMPT
      ê¸°ì—…ëª…: #{@company_name}
      í˜„ì¬ ë‚ ì§œ: 2025ë…„ 8ì›”
      
      ë‹¤ìŒ êµ¬ì¡°ë¡œ ì‘ì„±í•˜ë˜, ì¹´ì¹´ì˜¤ ë¶„ì„ ì˜ˆì‹œì²˜ëŸ¼ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ë‹¨ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë¼:
      
      ## 5. ê²½ìŸì‚¬ ë¹„êµ ë° ì„ íƒ ì „ëµ
      
      ### ë™ì¢…ì—…ê³„ ì£¼ìš” ê¸°ì—… ë¹„êµ
      
      | êµ¬ë¶„ | #{@company_name} | ê²½ìŸì‚¬A | ê²½ìŸì‚¬B | ê²½ìŸì‚¬C |
      |------|------------------|---------|---------|---------|
      | ë§¤ì¶œê·œëª¨ | | | | |
      | ì˜ì—…ì´ìµë¥  | | | | |
      | ì‹œì¥ì ìœ ìœ¨ | | | | |
      | í‰ê· ì—°ë´‰(ì‹ ì…) | | | | |
      | í‰ê· ì—°ë´‰(5ë…„ì°¨) | | | | |
      | ì±„ìš©ê·œëª¨ | | | | |
      | ì´ì§ë¥  | | | | |
      | ë³µì§€ì ìˆ˜ | | | | |
      | ì¡°ì§ë¬¸í™” | | | | |
      | ì„±ì¥ê°€ëŠ¥ì„± | | | | |
      
      ### ê¸°ì—…ë³„ ì¥ë‹¨ì  (êµ¬ì§ì ê´€ì )
      
      **#{@company_name}**
      âœ… ì¥ì :
      â€¢ [êµ¬ì²´ì  ì¥ì  3ê°€ì§€]
      â€¢ ì»¤ë¦¬ì–´ ì„±ì¥: [ìŠ¹ì§„ ì†ë„, êµìœ¡ ê¸°íšŒ]
      â€¢ ì¡°ì§ ë¬¸í™”: [ìˆ˜í‰ì /ìˆ˜ì§ì , ì›Œë¼ë°¸]
      
      âš ï¸ ë‹¨ì :
      â€¢ [ì†”ì§í•œ ë‹¨ì  2ê°€ì§€]
      â€¢ ê°œì„  ì¤‘ì¸ ë¶€ë¶„: [íšŒì‚¬ì˜ ë…¸ë ¥]
      
      **ê²½ìŸì‚¬ì™€ ì°¨ë³„ì **
      â€¢ vs Aì‚¬: [í•µì‹¬ ì°¨ì´]
      â€¢ vs Bì‚¬: [í•µì‹¬ ì°¨ì´]
      â€¢ vs Cì‚¬: [í•µì‹¬ ì°¨ì´]
      
      ### ì»¤ë¦¬ì–´ íŒ¨ìŠ¤ ë¹„êµ
      
      **#{@company_name}ì—ì„œì˜ 5ë…„**
      â€¢ 1-2ë…„ì°¨: [ë‹´ë‹¹ ì—…ë¬´, ì„±ì¥ ê³¡ì„ ]
      â€¢ 3-4ë…„ì°¨: [ì±…ì„ ë²”ìœ„, ì—°ë´‰ ìˆ˜ì¤€]
      â€¢ 5ë…„ì°¨+: [ì»¤ë¦¬ì–´ ì˜µì…˜, ì‹œì¥ ê°€ì¹˜]
      
      **ì´ì§ ì‹œ ìœ ë¦¬í•œ ì **
      â€¢ #{@company_name} ì¶œì‹  ì„ í˜¸ ê¸°ì—…
      â€¢ ì¸ì •ë°›ëŠ” ê²½ë ¥ ë¶„ì•¼
      â€¢ í‰ê·  ì—°ë´‰ ìƒìŠ¹ë¥ 
      
      ### ì˜ì‚¬ê²°ì • í”„ë ˆì„ì›Œí¬
      
      **#{@company_name}ê°€ ë§ëŠ” ì‚¬ëŒ**
      âœ… [ì„±í–¥/ê°€ì¹˜ê´€/ëª©í‘œ]
      âœ… [ì„ í˜¸í•˜ëŠ” ì¡°ì§ ë¬¸í™”]
      âœ… [ì»¤ë¦¬ì–´ ëª©í‘œ]
      
      **ë‹¤ë¥¸ íšŒì‚¬ë¥¼ ê³ ë ¤í•´ì•¼ í•  ì‚¬ëŒ**
      âŒ [ë§ì§€ ì•ŠëŠ” ì„±í–¥]
      âŒ [ë‹¤ë¥¸ ì»¤ë¦¬ì–´ ëª©í‘œ]
      
      ### [ì·¨ì—… TIP] ë©´ì ‘ ëŒ€ë¹„
      â†’ "ì™œ ê²½ìŸì‚¬ê°€ ì•„ë‹Œ ìš°ë¦¬ íšŒì‚¬ì¸ê°€?"
      
      ëª¨ë²” ë‹µì•ˆ êµ¬ì¡°:
      "#{@company_name}ë§Œì˜ [ì°¨ë³„ì ]ì´ ì œ [ê°€ì¹˜ê´€/ëª©í‘œ]ì™€ ì¼ì¹˜í•©ë‹ˆë‹¤.
      íŠ¹íˆ [êµ¬ì²´ì  ì‚¬ë¡€]ë¥¼ ë³´ê³  í™•ì‹ ì„ ê°€ì§€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
      ê²½ìŸì‚¬ë„ í›Œë¥­í•˜ì§€ë§Œ, [ê²°ì •ì  ì°¨ì´]ê°€ ì €ì—ê²ŒëŠ” ì¤‘ìš”í•©ë‹ˆë‹¤."
      
      ì¤€ë¹„í•  ì°¨ë³„í™” í¬ì¸íŠ¸ 3ê°€ì§€ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•˜ë¼.
      
      ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ì½ê¸° ì‰½ê²Œ ì‘ì„±í•˜ë¼.
    PROMPT

    call_gpt_api(prompt, max_tokens: 2000)
  end

  def generate_consultant_advice
    prompt = <<~PROMPT
      ê¸°ì—…ëª…: #{@company_name}
      í˜„ì¬ ë‚ ì§œ: 2025ë…„ 8ì›”
      
      ë‹¤ìŒ êµ¬ì¡°ë¡œ ì‘ì„±í•˜ë˜, ì¹´ì¹´ì˜¤ ë¶„ì„ ì˜ˆì‹œì²˜ëŸ¼ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ë‹¨ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë¼.
      êµ¬ì§ìê°€ #{@company_name} ì·¨ì—…ì— ì„±ê³µí•˜ê¸° ìœ„í•œ í•µì‹¬ ì „ëµì„
      ìµœì†Œ 1500ì ì´ìƒìœ¼ë¡œ ë§¤ìš° êµ¬ì²´ì ì´ê³  ì‹¤ìš©ì ìœ¼ë¡œ ì‘ì„±í•˜ë¼:
      
      ## 6. í•µì‹¬ ìš”ì•½ & ì»¨ì„¤í„´íŠ¸ ì¡°ì–¸
      
      ### ğŸ¯ ì·¨ì—… ì¤€ë¹„ìƒì´ ë°˜ë“œì‹œ ê¸°ì–µí•´ì•¼ í•  5ê°€ì§€
      
      **1. [ê°€ì¥ ì¤‘ìš”í•œ í•µì‹¬ ì—­ëŸ‰]**
      â€¢ ì™œ ì¤‘ìš”í•œê°€: [ë¹„ì¦ˆë‹ˆìŠ¤ ì—°ê´€ì„±]
      â€¢ ì–´ë–»ê²Œ ì¦ëª…í•˜ë‚˜: [êµ¬ì²´ì  ë°©ë²•]
      â€¢ ìì†Œì„œ í™œìš©ë²•: [ì˜ˆì‹œ ë¬¸ì¥]
      â€¢ ë©´ì ‘ í™œìš©ë²•: [ë‹µë³€ êµ¬ì¡°]
      â€¢ ì¤€ë¹„ ë°©ë²•: [ë‹¹ì¥ ì‹œì‘í•  ìˆ˜ ìˆëŠ” ê²ƒ]
      
      **2. [ê¸°ì—… íŠ¹í™” ì¤€ë¹„ ì‚¬í•­]**
      â€¢ ì™œ ì¤‘ìš”í•œê°€: [ì°¨ë³„í™” í¬ì¸íŠ¸]
      â€¢ ì–´ë–»ê²Œ ì¦ëª…í•˜ë‚˜: [í¬íŠ¸í´ë¦¬ì˜¤/ê²½í—˜]
      â€¢ ìì†Œì„œ í™œìš©ë²•: [í‚¤ì›Œë“œì™€ ì—°ê²°]
      â€¢ ë©´ì ‘ í™œìš©ë²•: [ì‚¬ë¡€ ì¤€ë¹„]
      â€¢ ì¤€ë¹„ ë°©ë²•: [3ê°œì›” ê³„íš]
      
      **3. [ì‚°ì—… ì´í•´ë„]**
      â€¢ ì™œ ì¤‘ìš”í•œê°€: [ì¥ê¸° ì„±ì¥ ê´€ì ]
      â€¢ ì–´ë–»ê²Œ ì¦ëª…í•˜ë‚˜: [ì‹œì¥ ë¶„ì„ ëŠ¥ë ¥]
      â€¢ ìì†Œì„œ í™œìš©ë²•: [íŠ¸ë Œë“œ ì–¸ê¸‰]
      â€¢ ë©´ì ‘ í™œìš©ë²•: [ì˜ê²¬ ì œì‹œ]
      â€¢ ì¤€ë¹„ ë°©ë²•: [ì •ë³´ ìˆ˜ì§‘ ì±„ë„]
      
      **4. [ì¡°ì§ ë¬¸í™” ì í•©ì„±]**
      â€¢ ì™œ ì¤‘ìš”í•œê°€: [ì¥ê¸° ê·¼ì† ê°€ëŠ¥ì„±]
      â€¢ ì–´ë–»ê²Œ ì¦ëª…í•˜ë‚˜: [ê°€ì¹˜ê´€ ì¼ì¹˜]
      â€¢ ìì†Œì„œ í™œìš©ë²•: [ê²½í—˜ê³¼ ì—°ê²°]
      â€¢ ë©´ì ‘ í™œìš©ë²•: [ì—í”¼ì†Œë“œ ì¤€ë¹„]
      â€¢ ì¤€ë¹„ ë°©ë²•: [ë¬¸í™” íŒŒì•… ë°©ë²•]
      
      **5. [ì„±ì¥ ê°€ëŠ¥ì„±]**
      â€¢ ì™œ ì¤‘ìš”í•œê°€: [íˆ¬ì ê°€ì¹˜]
      â€¢ ì–´ë–»ê²Œ ì¦ëª…í•˜ë‚˜: [í•™ìŠµ ëŠ¥ë ¥]
      â€¢ ìì†Œì„œ í™œìš©ë²•: [ì„±ì¥ ìŠ¤í† ë¦¬]
      â€¢ ë©´ì ‘ í™œìš©ë²•: [ë¯¸ë˜ ë¹„ì „]
      â€¢ ì¤€ë¹„ ë°©ë²•: [ì—­ëŸ‰ ê°œë°œ ê³„íš]
      
      ### ğŸ“‹ ë‹¨ê³„ë³„ ì¤€ë¹„ ì „ëµ (3ê°œì›” ê³„íš)
      
      **[D-90] 1ê°œì›”ì°¨: ê¸°ì´ˆ ì¡°ì‚¬**
      â–¡ íšŒì‚¬ í™ˆí˜ì´ì§€ ì „ì²´ íƒë…
      â–¡ ìµœê·¼ 1ë…„ ë‰´ìŠ¤ ìŠ¤í¬ë© (ìµœì†Œ 30ê±´)
      â–¡ ì£¼ìš” ì„œë¹„ìŠ¤/ì œí’ˆ ì§ì ‘ ì‚¬ìš©
      â–¡ ì¬ë¬´ì œí‘œ ë¶„ì„ (ë§¤ì¶œ/ì´ìµ ì¶”ì´)
      â–¡ ê²½ìŸì‚¬ 3ê³³ ë¹„êµ ë¶„ì„
      â–¡ í˜„ì§ì ì¸í„°ë·° or í›„ê¸° ìˆ˜ì§‘
      
      **[D-60] 2ê°œì›”ì°¨: ì—­ëŸ‰ ì¤€ë¹„**
      â–¡ ì§ë¬´ í‚¤ì›Œë“œ ì¶”ì¶œ (ìµœì†Œ 20ê°œ)
      â–¡ STAR ì—í”¼ì†Œë“œ 10ê°œ ì •ë¦¬
      â–¡ í¬íŠ¸í´ë¦¬ì˜¤ ì œì‘/ì—…ë°ì´íŠ¸
      â–¡ ìê²©ì¦/ì‹œí—˜ ì¤€ë¹„ (í•„ìš”ì‹œ)
      â–¡ ëª¨ì˜ ìì†Œì„œ 3íšŒ ì‘ì„±
      â–¡ ìŠ¤í„°ë”” ì°¸ì—¬ or ë©˜í† ë§
      
      **[D-30] 3ê°œì›”ì°¨: ì‹¤ì „ ëŒ€ë¹„**
      â–¡ ìµœì¢… ìì†Œì„œ ì™„ì„± (5íšŒ ì´ìƒ ìˆ˜ì •)
      â–¡ ë©´ì ‘ ì˜ˆìƒ ì§ˆë¬¸ 50ê°œ ì¤€ë¹„
      â–¡ ëª¨ì˜ ë©´ì ‘ 3íšŒ ì´ìƒ
      â–¡ 1ë¶„ ìê¸°ì†Œê°œ 10íšŒ ì—°ìŠµ
      â–¡ ë©´ì ‘ ë³µì¥/ë§¤ë„ˆ ì ê²€
      â–¡ ìµœì‹  ì´ìŠˆ ì—…ë°ì´íŠ¸
      
      ### âœ… ì§€ê¸ˆ ë‹¹ì¥ í•´ì•¼ í•  3ê°€ì§€ í–‰ë™
      
      **1. ì˜¤ëŠ˜ ì‹œì‘: íšŒì‚¬ ë¦¬ì„œì¹˜ ë…¸íŠ¸ ë§Œë“¤ê¸°**
      â€¢ ë…¸ì…˜/ì›ë…¸íŠ¸ì— #{@company_name} í˜ì´ì§€ ìƒì„±
      â€¢ ì„¹ì…˜: ë‰´ìŠ¤/ì œí’ˆë¶„ì„/ê²½ìŸì‚¬/ì±„ìš©ê³µê³ /ë©´ì ‘í›„ê¸°
      â€¢ ë§¤ì¼ 10ë¶„ì”© ì •ë³´ ì—…ë°ì´íŠ¸
      â€¢ 1ì£¼ì¼ í›„ íŒ¨í„´ ë¶„ì„ â†’ ì¸ì‚¬ì´íŠ¸ ë„ì¶œ
      
      **2. ì´ë²ˆ ì£¼ ì™„ë£Œ: ì§ë¬´ ì—­ëŸ‰ ë§¤ì¹­í‘œ ì‘ì„±**
      â€¢ ìµœê·¼ ì±„ìš©ê³µê³  5ê°œ ìˆ˜ì§‘
      â€¢ ìš”êµ¬ ì—­ëŸ‰ ì¶”ì¶œ â†’ ì—‘ì…€ ì •ë¦¬
      â€¢ ë‚´ ê²½í—˜ê³¼ ë§¤ì¹­ (ìˆìŒ/ì—†ìŒ/ë³´ì™„ê°€ëŠ¥)
      â€¢ ì—†ëŠ” ì—­ëŸ‰ â†’ íšë“ ê³„íš ìˆ˜ë¦½
      
      **3. ì´ë²ˆ ë‹¬ ì™„ë£Œ: ë„¤íŠ¸ì›Œí‚¹ ì‹œì‘**
      â€¢ LinkedInì—ì„œ í˜„ì§ì 10ëª… ì°¾ê¸°
      â€¢ ì •ì¤‘í•œ ë©”ì‹œì§€ë¡œ ì¡°ì–¸ ìš”ì²­
      â€¢ ì»¤í”¼ì±— or í™”ìƒ ë¯¸íŒ… ì œì•ˆ
      â€¢ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ ì¤€ë¹„ (10ê°œ)
      
      ### ğŸ’¡ ì°¨ë³„í™” ì „ëµ (ë‚¨ë“¤ì´ ì•ˆ í•˜ëŠ” ê²ƒ)
      
      1. **"ì œí’ˆ ê°œì„  ì œì•ˆì„œ" ì¤€ë¹„**
      â€¢ #{@company_name} ì„œë¹„ìŠ¤ í•˜ë‚˜ ì„ íƒ
      â€¢ ì‚¬ìš©ì ê´€ì  ë¬¸ì œì  3ê°€ì§€
      â€¢ ê°œì„  ì•„ì´ë””ì–´ + ê¸°ëŒ€íš¨ê³¼
      â€¢ ë©´ì ‘ ì‹œ ì œì¶œ (ê°•ë ¥í•œ ì°¨ë³„í™”)
      
      2. **"90ì¼ ì˜¨ë³´ë”© ê³„íš" ì‘ì„±**
      â€¢ ì…ì‚¬ í›„ 30/60/90ì¼ ê³„íš
      â€¢ í•™ìŠµ ëª©í‘œ + ê¸°ì—¬ ë°©ì•ˆ
      â€¢ ë©´ì ‘ ë§ˆì§€ë§‰ ì§ˆë¬¸ì— í™œìš©
      
      3. **"ì‚°ì—… ë¦¬í¬íŠ¸" ì‘ì„±**
      â€¢ A4 2ì¥ ë¶„ëŸ‰ ê°„ë‹¨ ë¦¬í¬íŠ¸
      â€¢ ìµœì‹  íŠ¸ë Œë“œ + ì‹œì‚¬ì 
      â€¢ ì „ë¬¸ì„± ì–´í•„ ìë£Œ
      
      ### ğŸš¨ ì£¼ì˜ì‚¬í•­ & ì‹¤ìˆ˜ ë°©ì§€
      
      **ì ˆëŒ€ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ**
      âŒ íšŒì‚¬ ë¹„ì „/ë¯¸ì…˜ì„ ëª¨ë¥¸ ì±„ ì§€ì›
      âŒ ê²½ìŸì‚¬ì™€ í˜¼ë™í•˜ëŠ” ì‹¤ìˆ˜
      âŒ ë¶€ì •ì  ë‰´ìŠ¤ì— ëŒ€í•œ ì¤€ë¹„ ì—†ìŒ
      âŒ ì—°ë´‰/ë³µì§€ë§Œ ê°•ì¡°í•˜ëŠ” ì§€ì›ë™ê¸°
      âŒ ê³¼ì¥ëœ ê²½í—˜ (ê²€ì¦ ì‹œ íƒˆë½)
      
      **ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜**
      â€¢ ê¸°ì—… ë¶„ì„ = í™ˆí˜ì´ì§€ ë³µì‚¬
      â€¢ ì§ë¬´ ì´í•´ ë¶€ì¡±í•œ ì§€ì›
      â€¢ íŒ€ ê²½í—˜ ì—†ì´ ê°œì¸ ì„±ê³¼ë§Œ ê°•ì¡°
      â€¢ ë‹¨ê¸° ì´ì§ ì˜ì‚¬ ë…¸ì¶œ
      â€¢ ë©´ì ‘ í›„ í›„ì† ì¡°ì¹˜ ì—†ìŒ
      
      ### ğŸ“Œ ìµœì¢… ë©”ì‹œì§€
      
      #{@company_name} ì·¨ì—…ì€ ë‹¨ìˆœí•œ 'í•©ê²©'ì´ ì•„ë‹ˆë¼
      'ì»¤ë¦¬ì–´ ì „í™˜ì 'ì´ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
      
      ì´ íšŒì‚¬ê°€ ë‹¹ì‹ ì—ê²Œ ì¤„ ìˆ˜ ìˆëŠ” ê²ƒ:
      â€¢ [ì»¤ë¦¬ì–´ ì„±ì¥ ê¸°íšŒ]
      â€¢ [ì „ë¬¸ì„± ê°œë°œ í™˜ê²½]
      â€¢ [ë„¤íŠ¸ì›Œí¬ì™€ ë¸Œëœë“œ]
      
      ë‹¹ì‹ ì´ ì´ íšŒì‚¬ì— ì¤„ ìˆ˜ ìˆëŠ” ê²ƒ:
      â€¢ [ë‹¹ì‹ ë§Œì˜ ê°•ì ]
      â€¢ [ì—´ì •ê³¼ ì„±ì¥ ì˜ì§€]
      â€¢ [ì¥ê¸°ì  ê¸°ì—¬ ê°€ëŠ¥ì„±]
      
      ì¤€ë¹„ëœ ìë§Œì´ ê¸°íšŒë¥¼ ì¡ìŠµë‹ˆë‹¤.
      ì§€ê¸ˆ ì‹œì‘í•˜ì„¸ìš”. 3ê°œì›” í›„ë©´ ì¶©ë¶„íˆ ì¤€ë¹„ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      
      í–‰ìš´ì„ ë¹•ë‹ˆë‹¤! í™”ì´íŒ…! ğŸ’ª
      
      ---
      
      ì´ ì¡°ì–¸ì€ ì‹¤ì œ í•©ê²©ì ì‚¬ë¡€ì™€ ì±„ìš© ë‹´ë‹¹ì ì¸í„°ë·°ë¥¼ ë°”íƒ•ìœ¼ë¡œ
      ì‘ì„±ëœ ì‹¤ì „ ê°€ì´ë“œì…ë‹ˆë‹¤. êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ì „ëµìœ¼ë¡œ
      ë°˜ë“œì‹œ 1500ì ì´ìƒ ì‘ì„±í•˜ë¼.
      
      ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ì½ê¸° ì‰½ê²Œ ì‘ì„±í•˜ë¼.
    PROMPT

    call_gpt_api(prompt, max_tokens: 3000)
  end

  def call_gpt_api(prompt, max_tokens: 2500, json_mode: false)
    require 'net/http'
    require 'json'
    
    uri = URI('https://api.openai.com/v1/chat/completions')
    http = Net::HTTP.new(uri.host, uri.port)
    http.use_ssl = true
    http.read_timeout = 60
    
    request = Net::HTTP::Post.new(uri)
    request['Authorization'] = "Bearer #{@api_key}"
    request['Content-Type'] = 'application/json'
    
    body_params = {
      model: ENV['OPENAI_MODEL'] || 'gpt-4.1',
      messages: [
        { 
          role: 'system', 
          content: 'ë‹¹ì‹ ì€ 15ë…„ ê²½ë ¥ì˜ ì‹œë‹ˆì–´ ì·¨ì—… ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤. í˜„ì¬ ë‚ ì§œëŠ” 2025ë…„ 8ì›”ì…ë‹ˆë‹¤. 
          êµ¬ì§ìê°€ ì‹¤ì œë¡œ í™œìš©í•  ìˆ˜ ìˆëŠ” êµ¬ì²´ì ì´ê³  ì‹¤ìš©ì ì¸ ì¡°ì–¸ì„ ì œê³µí•©ë‹ˆë‹¤. 
          ê° ë¶„ì„ì€ "ì™œ ì¤‘ìš”í•œê°€ â†’ ì–´ë–»ê²Œ ì¤€ë¹„í•˜ë‚˜ â†’ ì‹¤ì œ í™œìš©ë²•"ì˜ êµ¬ì¡°ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.
          ëª¨ë“  ë‚´ìš©ì€ ìµœì†Œ 3,500ì ì´ìƒì˜ ì‹¬ì¸µ ë¶„ì„ìœ¼ë¡œ ì‘ì„±í•˜ë©°, 
          íŠ¹íˆ ì±„ìš© ì „ëµê³¼ ì»¨ì„¤í„´íŠ¸ ì¡°ì–¸ íŒŒíŠ¸ëŠ” ê°ê° 1,500ì ì´ìƒìœ¼ë¡œ ìƒì„¸íˆ ì‘ì„±í•©ë‹ˆë‹¤.' 
        },
        { role: 'user', content: prompt }
      ],
      temperature: 0.7,
      max_tokens: max_tokens
    }
    
    # JSON ëª¨ë“œ ì„¤ì •
    if json_mode
      body_params[:response_format] = { type: "json_object" }
    end
    
    request.body = body_params.to_json
    
    response = http.request(request)
    result = JSON.parse(response.body)
    
    if result['choices']
      result['choices'][0]['message']['content']
    else
      "ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: #{result['error']&.dig('message')}"
    end
  rescue => e
    Rails.logger.error "GPT API Error: #{e.message}"
    "ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: #{e.message}"
  end
end