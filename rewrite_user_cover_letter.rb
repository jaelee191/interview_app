#!/usr/bin/env ruby
require_relative 'config/environment'

# 사용자의 자소서
user_content = <<~CONTENT
1. 지원 동기
[고객 중심 마케팅, 기대를 현실로]
고객이 필요를 느끼기 전 선제 대응하고 마음을 움직이는 스토레텔링으로 구매력을 가진 고객 확보에 이바지하고자 지원했습니다.
이를 위해 30번의 대외활동과 5년 간의 아르바이트 경험으로 고객 관점 사고를 발전시켰습니다. 특히 링커리어 에디터 활동 중 대학생이 원하는 콘텐츠를 제공해 커뮤니티를 200% 활성화했습니다. 대학생 관점에서 고민하며 그들의 진짜 니즈인 현직자 인터뷰 콘텐츠로 1만 조회수를 달성했습니다.
IT 기업 마케팅 인턴십에서는 고객 심리를 배너 광고에 녹여 자사 홈페이지 평균 방문자 수 4배 증가를 이뤘습니다. 가입 경로 분석 결과 신규 가입자의 50%가 L사 서비스 이용 경험이 있음을 발견했습니다. 이에 L사 고객을 타겟으로 자사의 경쟁력을 강조하고자 '언제까지 파일 하나씩 옮기실 건가요?'라는 카피를 작성하고, 네이버 배너 광고를 집행해 인지도를 확산시켰습니다.
기업 선택의 최우선 기준은 성장 가능성이며, 입사 후 고객의 일상에 스며드는 스토리로 고객의 숨은 니즈를 발굴해 기업을 선택해야 하는 이유를 제공하겠습니다.

2. 성장 과정
[600개의 콘텐츠 발행 비결: 시도]
5년간 SNS 채널을 운영하며 인스타툰, 영상 등 다양한 형태로 600건의 콘텐츠를 발행해 우수활동자로 7회 선정되었습니다. 이를 통해 새로운 방식을 과감히 시도하는 자세와 꾸준함이 성장의 기회로 이어짐을 배웠습니다. 특히 갤럭시 대학생 서포터즈 활동에서 '네이버페이 X 삼성페이' 콜라보 콘텐츠 제작으로 2일 만에 조회수 3,000회를 달성해 5월의 우수활동자로 선정되었습니다.
먼저 결제 시 포인트를 두 번 지급해주는 프로모션을 직접 이용해보고 특장점을 정리했습니다. 다음으로 인스타그램 팔로워 1,400명을 대상으로 영상에 대한 설문을 진행해 대학 생활 관련 주제에 대한 높은 수요를 확인했습니다. 이에 학식을 네이버페이로 결제하고 현금성 포인트를 2배로 받는 모습 등을 담은 대학 생활 브이로그 영상을 기획했습니다. 또한 높은 유입과 조회수를 증대하고자 새로운 방식인 숏폼 형식을 활용했습니다. 그 결과 기존 영상 대비 2배 이상의 조회수와 공유 수를 기록하여 당월 우수 활동자로 선정될 수 있었습니다.
이 경험을 통해 다각도로 도전한다면 유의미한 성과는 따라올 수밖에 없다는 자신감과 마인드를 확립할 수 있었습니다.

3. 협업 경험
[팀과 팀원을 관찰했을 때 팀워크가 시작된다]
과 대표로서 팀을 심도 있게 관찰하여 회의 시간 50% 단축과 신규 행사 12개 기획을 이뤘습니다.
전체 임원 회의를 주 1회 진행하며, 아이디어를 준비해오던 초반과 달리 점차 적극적으로 참여하지 않는 부원이 늘어나 불만이 발생했습니다. 또한 아이디어를 내는 데 눈치를 보게 되어 회의가 3시간 이상 길어졌습니다.
대면 회의와 선후배 관계에 부담을 느낌을 알게 되었고, 익명성을 보장하여 자유롭게 아이디어를 낼 수 있는 환경을 구축하고자 했습니다. 먼저 회의용 익명 오픈 채팅방을 개설했습니다. 오픈 채팅방을 통해 회의 하루 전까지 아이디어를 내고 공유하는 형식으로 회의를 진행했습니다. 해당 방식에 완전히 익숙해지자 회의 시간이 절반 이상 줄어들었습니다. 더불어 아이디어를 적극적으로 내는 것이 영어과와 학생회의 발전으로 이어진다는 것을 모두 체감하면서 '학생회를 이겨라', '최초의 연극 형식 학술제' 등의 색다른 행사를 기획할 수 있었습니다. 그 결과 학기 말 만족도 조사에서 만족도가 전년 대비 10% 증가했습니다.
이 경험을 통해 팀 내 문제를 정확히 파악하고 솔루션을 실행하는 것이 팀워크의 첫걸음임을 배웠습니다.

4. 도전 경험
[도전의 또 다른 이름, 배움]
SKT T프렌즈 활동 당시 '20대 0청년 요금제' 신규 유입을 위한 마케팅 전략 기획 공모전에 도전해 현실가능성이 높다는 현직자의 평가를 받았습니다.
직접적인 마케팅 경험을 쌓고자 공모전에 참가해 마케팅 전략 기획에 도전했습니다. 20대 청년이 주요 타겟으로 청년들의 목소리를 듣고자 2가지를 실행했습니다. 1) 20대 1,400명 대상 설문조사에서 0청년 요금제가 인지도와 선호도에서 우위를 차지하지 못함을 발견했습니다. 2) 타사 청년 요금제를 분석하며 모든 통신사가 데이터 제공량을 앞세우는 상황에 SKT가 20대를 위한 혜택을 제공하는 점은 차별점이 될 수 있다고 판단했습니다.
조사를 바탕으로 자기중심적인 소비 성향을 지닌 현 20대가 브랜드의 주인공이라고 인지할 수 있도록 팝업스토어 '너만 오면 0', 캠퍼스 어택 '0한 우리를 응원해' 등의 8가지 맞춤형 IMC 전략을 제안했습니다. 성과 발표회에서 0청년 맞춤 콘텐츠 기획안을 발표했고, 20대 참여 유도 가능성과 브랜드 인지도 강화 측면에서 긍정적인 피드백을 받았습니다.
이 경험으로 직접 부딪히며 도전할 때 폭 넓은 배움과 성장의 기회가 주어진다는 것을 배웠습니다.

5. 직무 역량
[2년간 알파벳 친구가 된 맞춤형 교재]
대상자 관점 사고로 제작한 맞춤형 교재로 알파벳 암기 기간을 약 75% 단축했습니다.
영어 교육 봉사에서 담당 아동은 알파벳 암기가 한 달 이상 걸렸습니다. 이를 해결하고자 아동의 관점에서 고민했고 교재에 흥미를 느끼지 못함을 파악했습니다. 이후 캐릭터를 활용한 맞춤형 교재를 제작했고, 7일 만에 끝낼 수 있었습니다. 나아가 해당 교재는 2년간 알파벳 교재로 사용되었습니다.

[타겟 발굴과 기획의 시작]
트렌드 캐칭력과 타겟 이해로 신규마이스행사피칭 대회에서 2위를 달성했습니다.
자료 조사를 통해 중년층이 안정적이라는 관념으로 지원과 시설 제공이 부족함을 알게 되어 `신중년의 재도약` 컨퍼런스를 기획했습니다. 중년층 8명과 인터뷰를 통해 진정으로 원하는 것은 일자리 박람회가 아닌 인생 2막을 슬기롭게 살아가는 법임을 파악했습니다.
이에 채용 연계형 맥도날드 팝업, 느린 우체통 등 참여형 이벤트를 기획하고 IMC 전략으로는 중년 SNS 서포터즈를 제안했습니다. 그 결과 지속 가능성과 트렌디함을 높이 평가받아 최우수상을 받았습니다.

[다각도 분석부터 풀퍼널 마케팅까지]
교육 플랫폼 기업 콘텐츠 마케터로서 고객을 다각도로 관찰하고 인사이트를 도출해 팀 내 월말 성과 발표회에서 매출 1위를 달성했습니다. 메타 광고 성과가 저조한 상황에서 타겟층의 행동 패턴을 다각도로 분석해 '직장 병행 가능'이라는 새로운 USP를 발굴했습니다. 메인 메시지로 A/B 테스트를 진행하고 광고 소재를 개선한 결과 결제 전환률이 15% 상승했습니다. 또, 고객이 필요로 하는 혜택을 강조한 메시지를 발송하고, 고객 참여형 이벤트를 진행하면서 풀퍼널 마케팅 역량을 길렀습니다.

6. 장점 및 단점
[강한 추진력으로 만들어내는 성과]
불확실한 상황에서도 적극적으로 해결책을 찾아 성과를 내는 추진력이 강점입니다. 교육 플랫폼 기업 인턴십 중 새로운 홍보 채널로 인스타툰 계정 운영을 제안해 매출 증대 기반을 마련했습니다.
'타겟층과의 라포 형성이 세일즈에 유효하다'는 가설을 세우고, 데이터 직무 취준생의 관심사를 분석해 '부트 캠프 인턴이 알려주는 데이터 직무'라는 컨셉을 정했습니다.
초창기 콘텐츠 노출이 저조하여, 스토리와 댓글 기능으로 타겟층과의 소통을 강화하고, 릴스 콘텐츠 제작과 해쉬태그 최적화를 진행했습니다. 그 결과, 1달 만에 약 100명의 팔로워와 콘텐츠당 평균 18개의 댓글을 달성하며 새로운 홍보 채널 구축에 성공했습니다.
강한 추진력으로 급변하는 트렌드에 빠르게 대응하며 기업의 지속적인 성장에 기여하겠습니다.

[더딘 업무 처리 속도를 계획적으로 우선순위를 설정해 개선]
여러 일을 동시에 처리하는 데 어려움을 겪었던 경험이 있습니다. 여러 일을 한 번에 처리할 때마다 원하는 수준의 결과물을 도출해 내지 못했습니다. 이를 극복하기 위해 계획적으로 우선순위를 설정해 한 가지 일에 100% 몰입하고, 업무 흐름을 체계적으로 관리해 생산성을 향상시키고자 노력했습니다. 남들보다 속도가 느릴 수는 있지만, 꼼꼼하게 작업물을 검토하며 정확성을 높이고 실수를 최소화하는 방식으로 최상의 결과를 위해 끊임없이 개선하고 있습니다.
CONTENT

# 피드백 생성
feedback = <<~FEEDBACK
## 강점
- 풍부한 마케팅 실무 경험 (인턴십, 대외활동)
- 구체적인 수치와 성과 제시 (200% 활성화, 4배 증가, 600개 콘텐츠 등)
- 고객 중심 사고와 데이터 기반 의사결정 역량
- 협업과 리더십 경험

## 개선점
- 지원 기업과 직무에 대한 구체성 부족
- 각 경험의 인과관계와 스토리텔링 연결성 부족  
- 마케팅 직무 역량 중심으로 재구성 필요
- 단점 극복 과정을 더 긍정적으로 표현
FEEDBACK

puts "=" * 80
puts "자소서 최적화 리라이트 (마케팅 직무)"
puts "=" * 80

# 서비스 초기화
service = AdvancedCoverLetterService.new

# 최적화된 리라이트 실행
result = service.rewrite_with_python_enhancement(
  user_content,
  feedback,
  "삼성전자", # 예시 기업
  "마케팅"
)

if result[:success]
  puts "\n✅ 리라이트 완료!"
  
  puts "\n" + "=" * 80
  puts "📄 개선된 자기소개서"
  puts "=" * 80
  puts result[:rewritten_letter]
  
  puts "\n" + "=" * 80
  puts "📊 품질 분석 결과"
  puts "=" * 80
  
  if result[:metrics]
    puts "\n개선 지표:"
    puts "• 가독성 변화: #{result[:metrics]['readability_change']}"
    puts "• AI 자연스러움: #{result[:metrics]['ai_naturalness']}%"
    puts "• 키워드 최적화: #{result[:metrics]['keyword_optimization']}%" 
    puts "• STAR 구조: #{result[:metrics]['structure_score']}%"
  end
  
  if result[:suggestions]
    puts "\n💡 추가 개선 제안:"
    result[:suggestions].each do |suggestion|
      puts "• #{suggestion}"
    end
  end
  
  # 파일로 저장
  File.write("improved_cover_letter.txt", result[:rewritten_letter])
  puts "\n📁 improved_cover_letter.txt 파일로 저장되었습니다."
  
else
  puts "\n❌ 오류: #{result[:error]}"
end